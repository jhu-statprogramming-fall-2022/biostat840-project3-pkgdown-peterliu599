<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Determine sample sizes, draw samples, and conduct data analysis using data frames. It specifically enables you to determine simple random sample sizes, stratified sample sizes, and complex stratified sample sizes using a secondary variable such as population; draw simple random samples and stratified random samples from sampling data frames; determine which observations are missing from a random sample, missing by strata, duplicated within a dataset; and perform data analysis, including proportions, margins of error and upper and lower bounds for simple, stratified and cluster sample designs. ">
<title>Sample Design, Drawing &amp; Data Analysis Using Data Frames • sampler</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><link href="deps/Roboto-0.4.4/font.css" rel="stylesheet">
<link href="deps/JetBrains_Mono-0.4.4/font.css" rel="stylesheet">
<link href="deps/Roboto_Slab-0.4.4/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Sample Design, Drawing &amp; Data Analysis Using Data Frames">
<meta property="og:description" content="Determine sample sizes, draw samples, and conduct data analysis using data frames. It specifically enables you to determine simple random sample sizes, stratified sample sizes, and complex stratified sample sizes using a secondary variable such as population; draw simple random samples and stratified random samples from sampling data frames; determine which observations are missing from a random sample, missing by strata, duplicated within a dataset; and perform data analysis, including proportions, margins of error and upper and lower bounds for simple, stratified and cluster sample designs. ">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">sampler</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.4</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/vignettes.html">Vignettes</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/mbaldassaro/sampler/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="sampler-r-package">sampler R package<a class="anchor" aria-label="anchor" href="#sampler-r-package"></a>
</h1></div>
<p><img src="https://r-pkg.org/badges/version/sampler" alt="R"><a href="http://www.rdocumentation.org/packages/sampler" class="external-link"><img src="http://www.rdocumentation.org/badges/version/sampler" alt="Rdoc"></a></p>
<div class="section level3">
<h3 id="original-author">Original author<a class="anchor" aria-label="anchor" href="#original-author"></a>
</h3>
<p>Michael Baldassaro, Mara Averick</p>
</div>
<div class="section level3">
<h3 id="original-github-link">Original github link<a class="anchor" aria-label="anchor" href="#original-github-link"></a>
</h3>
<p><a href="https://github.com/mbaldassaro/sampler" class="external-link uri">https://github.com/mbaldassaro/sampler</a></p>
</div>
<div class="section level3">
<h3 id="practice-website-link">Practice website link<a class="anchor" aria-label="anchor" href="#practice-website-link"></a>
</h3>
<p><a href="https://jhu-statprogramming-fall-2022.github.io/biostat840-project3-pkgdown-peterliu599/" class="uri">https://jhu-statprogramming-fall-2022.github.io/biostat840-project3-pkgdown-peterliu599/</a></p>
</div>
<div class="section level3">
<h3 id="customization">Customization<a class="anchor" aria-label="anchor" href="#customization"></a>
</h3>
<ul>
<li>use bootswatch lux</li>
<li>use theme breeze-light</li>
<li>change the background color</li>
<li>change the font color</li>
<li>change the font of base, heading, and code.</li>
</ul>
</div>
<div class="section level3">
<h3 id="r-package-for-sample-design-drawing--data-analysis-using-data-frames">R Package for Sample Design, Drawing, &amp; Data Analysis Using Data Frames<a class="anchor" aria-label="anchor" href="#r-package-for-sample-design-drawing--data-analysis-using-data-frames"></a>
</h3>
<p>The sampler R package is designed to enable data scientists to design, draw, and analyze simple or complex samples using data frames. It enables you to load machine-readable files (e.g. .csv, .tsv, etc.) in R containing a sampling frame or collected data, store them as objects, and perform sampling techniques and analysis using clear and concise methods.</p>
<p>Specifically, a data scientist can use the sampler R package to:</p>
<ul>
<li>determine simple random sample sizes, stratified sample sizes, and complex stratified sample sizes using a secondary variable such as population</li>
<li>draw simple random samples and stratified random samples from sampling data frames</li>
<li>determine which observations are missing from a random sample, missing by strata, duplicated within a dataset</li>
<li>perform data analysis, including proportions, margins of error and upper and lower bounds for simple, stratified and cluster sample designs</li>
</ul>
<p>The sampler R package builds a bridge for survey administrators between the free and open-source R environment and no-to-low cost <a href="https://opendatakit.org/" class="external-link">Open Data Kit (ODK)</a>-based toolkits such as <a href="https://ona.io/home/" class="external-link">Ona</a> and <a href="http://getnemo.org/" class="external-link">NEMO</a>. The sampler package is available via <a href="https://CRAN.R-project.org/package=sampler" class="external-link">CRAN</a> or GitHub for use in <a href="https://www.r-project.org/" class="external-link">R</a> and <a href="https://www.rstudio.com/" class="external-link">R Studio</a>.</p>
</div>
<div class="section level3">
<h3 id="to-install-in-r-from-cran">To install in R from CRAN:<a class="anchor" aria-label="anchor" href="#to-install-in-r-from-cran"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"sampler"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/mbaldassaro/sampler" class="external-link">sampler</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="to-install-in-r-from-github">To install in R from GitHub:<a class="anchor" aria-label="anchor" href="#to-install-in-r-from-github"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span>; <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/" class="external-link">devtools</a></span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"mbaldassaro/sampler"</span><span class="op">)</span>; <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/mbaldassaro/sampler" class="external-link">sampler</a></span><span class="op">)</span></span></code></pre></div>
<p>The sampler R package includes the following datasets:</p>
<ul>
<li>
<code>albania</code>: dataset containing 2017 Albania election results by polling station published by the Central Election Commission and opened by the Coalition of Domestic Observers &amp; Democracy International</li>
<li>
<code>opening</code>: dataset containing 2017 Albania election observation findings on polling station opening process by the Coalition of Domestic Observers (CDO) CDO conducted a statistically-based observation (SBO) exercise, deploying observers to a random sample of polling stations for the 25 June 2017 Albanian elections. This is a subset of observation data collected by CDO observers that includes data that was used to perform statistical analysis</li>
</ul>
<p>Full documentation of datasets and functions can be found on <a href="https://www.rdocumentation.org/packages/sampler" class="external-link">RDocumentation</a></p>
</div>
<div class="section level3">
<h3 id="determine-random-sample-size">Determine random sample size<a class="anchor" aria-label="anchor" href="#determine-random-sample-size"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/rsampcalc.html">rsampcalc</a></span><span class="op">(</span><span class="va">N</span>, <span class="va">e</span>, ci<span class="op">=</span><span class="fl">95</span>,p<span class="op">=</span><span class="fl">0.5</span>, over<span class="op">=</span><span class="fl">0</span><span class="op">)</span></span></code></pre></div>
<p>Where: * <code>N</code> is population universe (e.g. 10000, nrow(df)) * <code>e</code> is tolerable margin of error (integer or float, e.g. 5, 2.5) * <code>ci</code> (optional) is confidence level for establishing a confidence interval using z-score (defaults to 95; restricted to 80, 85, 90, 95 or 99 as input) * <code>p</code> (optional) is anticipated response distribution (defaults to 0.5; takes value between 0 and 1 as input) * <code>over</code> (optional) is desired oversampling proportion (defaults to 0; takes value between 0 and 1 as input)</p>
<p>Returns appropriate sample size (rounded up to nearest integer)</p>
<p>Example:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/rsampcalc.html">rsampcalc</a></span><span class="op">(</span>N<span class="op">=</span><span class="fl">5361</span>, e<span class="op">=</span><span class="fl">3</span>, ci<span class="op">=</span><span class="fl">95</span>, p<span class="op">=</span><span class="fl">0.5</span>, over<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span></span></code></pre></div>
<p><em>Source: Sampling Design &amp; Analysis, S. Lohr, 1999, equation 2.17</em></p>
</div>
<div class="section level3">
<h3 id="draw-a-simple-random-sample">Draw a simple random sample<a class="anchor" aria-label="anchor" href="#draw-a-simple-random-sample"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/rsamp.html">rsamp</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">n</span>, over<span class="op">=</span><span class="fl">0</span>, rep<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>Where: * <code>df</code> is object containing full sampling data frame * <code>n</code> is sample size (integer or object containing sample size) * <code>over</code> (optional) is desired oversampling proportion (defaults to 0; takes value between 0 and 1 as input) * <code>rep</code> (optional) is boolean for a sample with repalcement (TRUE) or without replacement (defaults to FALSE)</p>
<p>Returns a simple random sample of size <code>n</code></p>
<p>Example:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/rsamp.html">rsamp</a></span><span class="op">(</span><span class="va">albania</span>, n<span class="op">=</span><span class="fl">360</span>, over<span class="op">=</span><span class="fl">0.1</span>, rep<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">size</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/rsampcalc.html">rsampcalc</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">albania</span><span class="op">)</span>, <span class="fl">3</span>, <span class="fl">95</span>, <span class="fl">0.5</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/rsamp.html">rsamp</a></span><span class="op">(</span><span class="va">albania</span>, <span class="va">size</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="determine-sample-size-by-strata-using-proportional-allocation">Determine sample size by strata using proportional allocation<a class="anchor" aria-label="anchor" href="#determine-sample-size-by-strata-using-proportional-allocation"></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/ssampcalc.html">ssampcalc</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">n</span>, <span class="va">strata</span>, over<span class="op">=</span><span class="fl">0</span><span class="op">)</span></span></code></pre></div>
<p>Where: * <code>df</code> is object containing sampling data frame * <code>n</code> is sample size (integer) or object containing sample size * <code>strata</code> is variable in sampling data frame by which to stratify * <code>over</code> (optional) is desired oversampling proportion (defaults to 0; takes value between 0 and 1 as input)</p>
<p>Returns proportional sample size per strata (rounded up to nearest integer)</p>
<p>Example:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/ssampcalc.html">ssampcalc</a></span><span class="op">(</span>df<span class="op">=</span><span class="va">albania</span>, n<span class="op">=</span><span class="fl">544</span>, strata<span class="op">=</span><span class="va">qarku</span>, over<span class="op">=</span><span class="fl">0.05</span><span class="op">)</span></span></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">size</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/rsampcalc.html">rsampcalc</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">albania</span><span class="op">)</span>, <span class="fl">3</span>, <span class="fl">95</span>, <span class="fl">0.5</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/ssampcalc.html">ssampcalc</a></span><span class="op">(</span><span class="va">albania</span>, <span class="va">size</span>, <span class="va">qarku</span><span class="op">)</span></span></code></pre></div>
<p><em>Source: Sampling Design &amp; Analysis, S. Lohr, 1999, 4.4</em></p>
</div>
<div class="section level3">
<h3 id="draw-stratified-sample-proportional-allocation">Draw stratified sample (proportional allocation)<a class="anchor" aria-label="anchor" href="#draw-stratified-sample-proportional-allocation"></a>
</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/ssamp.html">ssamp</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">n</span>, <span class="va">strata</span>, over<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p>Where: * <code>df</code> is object containing full sampling data frame * <code>n</code> is sample size (integer, or object containing sample size) * <code>strata</code> is variable in sampling data frame by which to stratify (e.g. region) * <code>over</code> (optional) is desired oversampling proportion (defaults to 0; takes value between 0 and 1 as input)</p>
<p>Returns stratified sample using proportional allocation without replacement</p>
<p>Example:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/ssamp.html">ssamp</a></span><span class="op">(</span>df<span class="op">=</span><span class="va">albania</span>, n<span class="op">=</span><span class="fl">360</span>, strata<span class="op">=</span><span class="va">qarku</span>, over<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span></span></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">size</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/rsampcalc.html">rsampcalc</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">albania</span><span class="op">)</span>, <span class="fl">3</span>, <span class="fl">95</span>, <span class="fl">0.5</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/ssamp.html">ssamp</a></span><span class="op">(</span><span class="va">albania</span>, <span class="va">size</span>, <span class="va">qarku</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="determine-sample-size-by-strata-using-sub-units">Determine sample size by strata using sub-units<a class="anchor" aria-label="anchor" href="#determine-sample-size-by-strata-using-sub-units"></a>
</h3>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/psampcalc.html">psampcalc</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">n</span>, <span class="va">strata</span>, <span class="va">unit</span>, over<span class="op">=</span><span class="fl">0</span><span class="op">)</span></span></code></pre></div>
<p>Where: * <code>df</code> is object containing full sampling data frame * <code>n</code> is sample size (integer) or object containing sample size * <code>strata</code> is variable in sampling data frame by which to stratify * <code>unit</code> is variable in sampling data frame containing sub-units (e.g. population) * <code>over</code> (optional) is desired oversampling proportion (defaults to 0; takes value between 0 and 1 as input)</p>
<p>Returns sample size per strata based on sub-units (rounded up to nearest integer)</p>
<p>Example</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/psampcalc.html">psampcalc</a></span><span class="op">(</span>df<span class="op">=</span><span class="va">albania</span>, n<span class="op">=</span><span class="fl">544</span>, strata<span class="op">=</span><span class="va">qarku</span>, unit<span class="op">=</span><span class="va">zgjedhes</span>, over<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span></span></code></pre></div>
<p><em>Source: Sampling Design &amp; Analysis, S. Lohr, 1999, 4.4</em></p>
</div>
<div class="section level3">
<h3 id="calculate-proportion-and-margin-of-error-simple-random-sample">Calculate proportion and margin of error (simple random sample)<a class="anchor" aria-label="anchor" href="#calculate-proportion-and-margin-of-error-simple-random-sample"></a>
</h3>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/rpro.html">rpro</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">col_name</span>, ci<span class="op">=</span><span class="fl">95</span>, na<span class="op">=</span><span class="st">""</span>, N<span class="op">=</span><span class="fl">0</span><span class="op">)</span></span></code></pre></div>
<p>Where: * <code>df</code> is object containing data frame on which to perform analysis (e.g. data) * <code>col_name</code> is variable in data frame for which you want to calculate proportion and margin of error * <code>ci</code> (optional) is confidence level for establishing a confidence interval using z-score (defaults to 95; restricted to 80, 85, 90, 95 or 99 as input) * <code>na</code> (optional) is value that you want to filter and exclude (defaults to include everything) * <code>N</code> (optional) is population universe (e.g. 10000, nrow(df)); if N value is passed as an argument, margin of error will be calculated using fpc</p>
<p>Returns table of responses (n), proportions (midpoint), margins of error, lower and upper bounds by factor for a given variable</p>
<p>Example:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/rpro.html">rpro</a></span><span class="op">(</span>df<span class="op">=</span><span class="va">opening</span>, col_name<span class="op">=</span><span class="va">openTime</span>, ci<span class="op">=</span><span class="fl">95</span>, na<span class="op">=</span><span class="st">"n/a"</span>, N<span class="op">=</span><span class="fl">5361</span><span class="op">)</span></span></code></pre></div>
<p><em>Source: Sampling Design &amp; Analysis, S. Lohr, 1999, Equation 2.15</em></p>
</div>
<div class="section level3">
<h3 id="calculate-proportion-and-margin-of-error-stratified-sample">Calculate proportion and margin of error (stratified sample)<a class="anchor" aria-label="anchor" href="#calculate-proportion-and-margin-of-error-stratified-sample"></a>
</h3>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/spro.html">spro</a></span><span class="op">(</span><span class="va">fulldf</span>, <span class="va">sampdf</span>, <span class="va">strata</span>, <span class="va">col_name</span>, ci<span class="op">=</span><span class="fl">95</span>, na<span class="op">=</span><span class="st">""</span><span class="op">)</span></span></code></pre></div>
<p>Where: * <code>fulldf</code> is object containing original data frame used to draw sample * <code>sampdf</code> is object containing data frame on which to perform analysis * <code>strata</code> is variable in both data frames by which to stratify * <code>col_name</code> is variable in data frame for which you want to calculate proportion and margin of error * <code>ci</code> (optional) is confidence level for establishing a confidence interval using z-score (defaults to 95; restricted to 80, 85, 90, 95 or 99 as input) * <code>na</code> (optional) is value that you want to filter and exclude (defaults to include everything)</p>
<p>Returns table of responses (n), proportions (midpoint), margins of error, lower and upper bounds by factor for a given variable in a stratified sample</p>
<p>Example:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/spro.html">spro</a></span><span class="op">(</span>fulldf<span class="op">=</span><span class="va">albania</span>, sampdf<span class="op">=</span><span class="va">opening</span>, strata<span class="op">=</span><span class="va">qarku</span>, col_name<span class="op">=</span><span class="va">openTime</span>, ci<span class="op">=</span><span class="fl">95</span>, na<span class="op">=</span><span class="st">"n/a"</span><span class="op">)</span></span></code></pre></div>
<p><em>Source: Sampling Design &amp; Analysis, S. Lohr, 1999, 4.6 &amp; 4.7</em></p>
</div>
<div class="section level3">
<h3 id="calculate-proportion-and-margin-of-error-unequal-sized-cluster-sample">Calculate proportion and margin of error (unequal-sized cluster sample)<a class="anchor" aria-label="anchor" href="#calculate-proportion-and-margin-of-error-unequal-sized-cluster-sample"></a>
</h3>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/cpro.html">cpro</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">numerator</span>, <span class="va">denominator</span>, ci<span class="op">=</span><span class="fl">95</span>, na<span class="op">=</span><span class="st">""</span>, N<span class="op">=</span><span class="fl">0</span><span class="op">)</span></span></code></pre></div>
<p>Where: * <code>df</code> is object containing data frame on which to perform analysis * <code>numerator</code> is variable in data frame for which you want to calculate proportion and margin of error * <code>denominator</code> is variable in data frame containing population of unequal cluster sizes * <code>ci</code> (optional) is confidence level for establishing a confidence interval using z-score (defaults to 95; restricted to 80, 85, 90, 95 or 99 as input) * <code>na</code> (optional) is value that you want to filter and exclude (defaults to include everything) * <code>N</code> (optional) is population universe (e.g. 10000, nrow(df)); if N value is passed as an argument, margin of error will be calculated using fpc</p>
<p>Returns table of responses (n), proportions (midpoint), margins of error, lower and upper bounds by factor for a given variable in an unequal-sized cluster sample</p>
<p>Example:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">alresults</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ssamp.html">ssamp</a></span><span class="op">(</span><span class="va">albania</span>, <span class="fl">890</span>, <span class="va">qarku</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/cpro.html">cpro</a></span><span class="op">(</span>df<span class="op">=</span><span class="va">alresults</span>, numerator<span class="op">=</span><span class="va">totalVoters</span>, denominator<span class="op">=</span><span class="va">zgjedhes</span>, ci<span class="op">=</span><span class="fl">95</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/cpro.html">cpro</a></span><span class="op">(</span>df<span class="op">=</span><span class="va">alresults</span>, numerator<span class="op">=</span><span class="va">pd</span>, denominator<span class="op">=</span><span class="va">validVotes</span>, ci<span class="op">=</span><span class="fl">95</span>, N<span class="op">=</span><span class="fl">5361</span><span class="op">)</span></span></code></pre></div>
<p><em>Source 1: Survey Sampling, L. Kish, 1965, Equation 6.3.4</em></p>
<p><em>Source 2: Sampling Techniques, W.G. Cochran, 1977, Equation 3.34</em></p>
</div>
<div class="section level3">
<h3 id="identify-missing-points-between-sample-and-collected-data">Identify missing points between sample and collected data<a class="anchor" aria-label="anchor" href="#identify-missing-points-between-sample-and-collected-data"></a>
</h3>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/rmissing.html">rmissing</a></span><span class="op">(</span><span class="va">sampdf</span>, <span class="va">colldf</span>, <span class="va">col_name</span><span class="op">)</span></span></code></pre></div>
<p>Where: * <code>sampdf</code> is object containing data frame of sample points * <code>colldf</code> is object containing data frame of collected data * <code>col_name</code> is common variable (i.e. key) in data frames by which to check for missing points</p>
<p>Returns table of sample points missing from collected data</p>
<p>Example:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">alsample</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/rsamp.html">rsamp</a></span><span class="op">(</span>df<span class="op">=</span><span class="va">albania</span>, <span class="fl">544</span><span class="op">)</span></span>
<span><span class="va">alreceived</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/rsamp.html">rsamp</a></span><span class="op">(</span>df<span class="op">=</span><span class="va">alsample</span>, <span class="fl">390</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/rmissing.html">rmissing</a></span><span class="op">(</span>sampdf<span class="op">=</span><span class="va">alsample</span>, colldf<span class="op">=</span><span class="va">alreceived</span>, col_name<span class="op">=</span><span class="va">qvKod</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="identify-number-of-missing-points-by-strata-between-sample-and-collected-data">Identify number of missing points by strata between sample and collected data<a class="anchor" aria-label="anchor" href="#identify-number-of-missing-points-by-strata-between-sample-and-collected-data"></a>
</h3>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/smissing.html">smissing</a></span><span class="op">(</span><span class="va">sampdf</span>, <span class="va">colldf</span>, <span class="va">strata</span>, <span class="va">col_name</span><span class="op">)</span></span></code></pre></div>
<p>Where: * <code>sampdf</code> is object containing data frame of sample points * <code>colldf</code> is object containing data frame of collected data * <code>strata</code> is variable in both data frames by which to stratify * <code>col_name</code> is common variable (i.e. key) in data frames by which to check for missing points</p>
<p>Returns table of number of sample points by strata missing from collected data</p>
<p>Example:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">alsample</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/rsamp.html">rsamp</a></span><span class="op">(</span>df<span class="op">=</span><span class="va">albania</span>, <span class="fl">544</span><span class="op">)</span></span>
<span><span class="va">alreceived</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/rsamp.html">rsamp</a></span><span class="op">(</span>df<span class="op">=</span><span class="va">alsample</span>, <span class="fl">390</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/smissing.html">smissing</a></span><span class="op">(</span>sampdf<span class="op">=</span><span class="va">alsample</span>, colldf<span class="op">=</span><span class="va">alreceived</span>, strata<span class="op">=</span><span class="va">qarku</span>, col_name<span class="op">=</span><span class="va">qvKod</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="identify-duplicate-values-within-collected-data">Identify duplicate values within collected data<a class="anchor" aria-label="anchor" href="#identify-duplicate-values-within-collected-data"></a>
</h3>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/dupe.html">dupe</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">col_name</span><span class="op">)</span></span></code></pre></div>
<p>Where: * <code>df</code> is object containing data frame of collected data * <code>col_name</code> is variable within data frame by which to filter for duplicate values</p>
<p>Returns table of duplicate values within collected data</p>
<p>Example:</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">aldupe</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/rsamp.html">rsamp</a></span><span class="op">(</span>df<span class="op">=</span><span class="va">albania</span>, n<span class="op">=</span><span class="fl">390</span>, rep<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/dupe.html">dupe</a></span><span class="op">(</span>df<span class="op">=</span><span class="va">aldupe</span>, col_name<span class="op">=</span><span class="va">qvKod</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="remove-observations-based-on-duplicate-values-within-collected-data">Remove observations based on duplicate values within collected data<a class="anchor" aria-label="anchor" href="#remove-observations-based-on-duplicate-values-within-collected-data"></a>
</h3>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/dedupe.html">dedupe</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">col_name</span><span class="op">)</span></span></code></pre></div>
<p>Where: * <code>df</code> is object containing data frame of collected data * <code>col_name</code> is variable within data frame by which to filter for duplicate values</p>
<p>Returns table of observations based on unique values within collected data</p>
<p>Example:</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">aldupe</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/rsamp.html">rsamp</a></span><span class="op">(</span>df<span class="op">=</span><span class="va">albania</span>, n<span class="op">=</span><span class="fl">390</span>, rep<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/dedupe.html">dedupe</a></span><span class="op">(</span>df<span class="op">=</span><span class="va">aldupe</span>, col_name<span class="op">=</span><span class="va">qvKod</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=sampler" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/mbaldassaro/sampler/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/mbaldassaro/sampler/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing sampler</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Michael Baldassaro <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Michael Baldassaro.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
